<%- include("partials/header.ejs") %>
<body class="p-5 bg-light">

  <div class="d-flex flex-column align-items-center justify-content-center">
    <div class="col-lg-6 mx-auto text-center"> 
      <h3 class="mb-4"><%= question %></h3> 
    </div>  

    <ul class="list-unstyled w-100" style="max-width: 400px;">
      <% answers.forEach((ans, i) => { %>
        <li>
          <button class="btn w-100 text-start my-2 d-flex align-items-center gap-2 option-btn"
                  data-answer="<%= ans %>">
            <span class="d-inline-block rounded-circle p-2 
              <%= i === 0 ? 'bg-success' : i === 1 ? 'bg-primary' : i === 2 ? 'bg-danger' : 'bg-info' %>">
            </span>
            <%= ans %>
          </button>
        </li> 
      <% }) %>
    </ul> 

    <p id="result" class="mt-3 fw-bold"></p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script>
    const buttons = document.querySelectorAll(".option-btn");
    const result = document.getElementById("result");
    const correct = "<%= correctAnswer %>";

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        const chosen = btn.dataset.answer;
        if (chosen === correct) {
          result.textContent = "✅ Correct!";
          result.classList.add("text-success");
        } else {
          result.textContent = "❌ Wrong! The correct answer is: " + correct;
          result.classList.add("text-danger");
        }
      });
    });
  </script>

</body>
</html>
